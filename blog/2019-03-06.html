<p>Boss explosions! Andâ€¦ urgh, I <i>really</i> also had to wade through that overly complicated HUD rendering code. Even though I had to pick {{DB_CustomerByID 2}}'s 7th push here as well, the worst of that is still to come. TH04 and TH05 exclusively store the current and high score internally as unpacked little-endian BCD, with some pretty dense ASM code involving the venerable x86 BCD instructions to update it.</p>

<p>So, what's actually the goal here. Since I was given no priorities <img src="/static/emoji-tannedcirno.png" style="transform: scaleX(-1);">, I still haven't had to (potentially) waste time researching whether we really can decompile from anywhere else inside a segment other than backwards from the end. So, the most efficient place for decompilation right now still is the end of TH05's <code>main_01_TEXT</code> segment. With maybe 1 or 2 more reverse-engineering commits, we'd have everything for an efficient decompilation up to <code>sub_123AD</code>. And that mass of code just happens to include all the shot type control functions, and makes up 3,007 instructions in total, or 12% of the entire remaining unknown code in MAIN.EXE.</p>

<p>So, the most reasonable thing would be to actually put some of the upcoming decompilation pushes towards reverse-engineering that missing part. I don't think that's a bad deal since it will allow us to mod TH05 shot types in C sooner, but {{DB_CustomerByID 5}} and {{DB_CustomerByID 4}} might disagree <img src="/static/emoji-thonk.png"></p>

<p>Next up: thcrap TL notes, followed by finally finishing {{DB_CustomerByID 1}}'s old ReC98 future-proofing pushes. I <i>really</i> don't want to decompile without a proper build system.</p>
